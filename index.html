<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SiteGuard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
--bg:#020617;--border:#1e293b;--text:#e5e7eb;
--muted:#94a3b8;--primary:#38bdf8;--accent:#0ea5e9;
--ok:#4ade80;--warn:#facc15;--bad:#f87171;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui;background:var(--bg);color:var(--text)}
header{padding:20px;border-bottom:1px solid var(--border)}
section{display:none;padding:40px;max-width:1100px;margin:auto}
.active{display:block}
input{padding:14px;width:280px;border-radius:8px;border:1px solid var(--border);
background:var(--bg);color:var(--text)}
button{padding:14px 22px;border-radius:8px;border:none;
background:linear-gradient(90deg,var(--primary),var(--accent));
color:#020617;font-weight:bold;cursor:pointer}
.card{border:1px solid var(--border);border-radius:14px;padding:20px;margin-bottom:20px}
.badge{padding:5px 10px;border-radius:20px;font-size:.8rem}
.ok{background:#052e1a;color:var(--ok)}
.warn{background:#3a2e05;color:var(--warn)}
.bad{background:#3a0505;color:var(--bad)}
.locked{filter:blur(4px);opacity:.5}
.chatbox{border-top:1px solid var(--border);padding-top:20px}
</style>
</head>

<body>

<header>
<h2>SiteGuard</h2>
</header>

<section id="home" class="active">
<h1>Website Security Check</h1>
<input id="urlInput" placeholder="https://example.com">
<br><br>
<button onclick="scan()">Analyze</button>
</section>

<section id="results">
<h2>Results</h2>

<div class="card">
<strong>HTTPS</strong> <span id="httpsB" class="badge"></span>
</div>

<div class="card">
<strong>Response Time</strong> <span id="timeB" class="badge"></span>
</div>

<div class="card">
<strong>Availability</strong> <span id="upB" class="badge"></span>
</div>

<div class="card">
<strong>URL Hygiene</strong> <span id="urlB" class="badge"></span>
</div>

<h3>Advanced Checks</h3>
<div class="locked">
<div class="card">Security headers</div>
<div class="card">CMS exposure</div>
<div class="card">Mixed content</div>
<div class="card">Risk summary</div>
</div>

<br>
<button onclick="goPlans()">Unlock Advanced</button>

<div class="chatbox">
<h3>Security Copilot</h3>
<p id="aiText">Upgrade to Advanced to get full guidance.</p>
</div>
</section>

<section id="plans">
<h2>Plans</h2>
<div class="card">
<h3>Basic</h3>
<p>4 essential checks</p>
<strong>Free</strong>
</div>

<div class="card">
<h3>Advanced</h3>
<p>8 checks + AI Copilot</p>
<strong>$9 / scan</strong><br><br>
<button onclick="unlock()">Proceed to payment</button>
</div>
</section>

<script>
let advanced=false;
let issues=[];

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
}

async function scan(){
issues=[];
show("results");
const url=urlInput.value;

// HTTPS (heuristic)
const https=url.startsWith("https://");
httpsB.textContent=https?"OK":"Missing";
httpsB.className="badge "+(https?"ok":"bad");
if(!https)issues.push("Your site does not use HTTPS.");

// Availability + response
let start=performance.now();
let up=true;
try{await fetch(url,{mode:"no-cors"})}catch{up=false}
let time=performance.now()-start;

upB.textContent=up?"Online":"Offline";
upB.className="badge "+(up?"ok":"bad");
if(!up)issues.push("Your site appears to be offline.");

timeB.textContent=time<800?"Fast":"Slow";
timeB.className="badge "+(time<800?"ok":"warn");
if(time>800)issues.push("Your site responds slowly.");

// URL hygiene
const clean=!url.includes("?");
urlB.textContent=clean?"Clean":"Suspicious";
urlB.className="badge "+(clean?"ok":"warn");
if(!clean)issues.push("Your URL contains parameters that may expose data.");

updateAI();
}

function goPlans(){show("plans")}

function unlock(){
advanced=true;
alert("Payment successful (demo)");
show("results");
updateAI();
}

function updateAI(){
if(!advanced){
aiText.textContent="Upgrade to Advanced to receive step-by-step fixes.";
}else{
aiText.innerHTML = issues.length
? issues.map((i,n)=>`${n+1}. ${i} Fix: review server configuration.`).join("<br>")
: "No critical issues detected. Your site looks solid.";
}
}
</script>

</body>
</html>
